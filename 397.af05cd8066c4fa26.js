"use strict";(self.webpackChunkquiz_maker_gerson=self.webpackChunkquiz_maker_gerson||[]).push([[397],{397:($,g,l)=>{l.r(g),l.d(g,{QuizSelectedComponent:()=>U});var r=l(6814),_=l(2487),p=l(3830);const q=t=>t.QuizBlock,z=((0,p.P1)(q,t=>t.quizBlock),(0,p.P1)(q,t=>!t.quizBlock||(t.quizBlock.question1.isDirty||t.quizBlock.question2.isDirty||t.quizBlock.question3.isDirty||t.quizBlock.question4.isDirty||t.quizBlock.question5.isDirty))),h=(0,p.P1)(q,t=>!!t.quizBlock&&t.quizBlock.submitted),Q=(0,p.P1)(q,t=>!!t.quizBlock&&!t.quizBlock.submitted),y=(0,p.P1)(q,t=>{if(!t.quizBlock||!t.quizBlock.submitted)return-1;let o=0;return t.quizBlock.question1.answer===t.quizBlock.question1.question.correct_answer&&(o+=1),t.quizBlock.question2.answer===t.quizBlock.question2.question.correct_answer&&(o+=1),t.quizBlock.question3.answer===t.quizBlock.question3.question.correct_answer&&(o+=1),t.quizBlock.question4.answer===t.quizBlock.question4.question.correct_answer&&(o+=1),t.quizBlock.question5.answer===t.quizBlock.question5.question.correct_answer&&(o+=1),o+1});var e=l(6689),c=l(95),s=(()=>((s=s||{})[s["Entertainment: Music"]=0]="Entertainment: Music",s[s["Entertainment: Video Games"]=1]="Entertainment: Video Games",s[s.History=2]="History",s[s["Science: Mathematics"]=3]="Science: Mathematics",s[s["Entertainment: Japanese Anime & Manga"]=4]="Entertainment: Japanese Anime & Manga",s[s["Science: Computers"]=5]="Science: Computers",s[s.Politics=6]="Politics",s[s["Entertainment: Cartoon & Animations"]=7]="Entertainment: Cartoon & Animations",s[s["General Knowledge"]=8]="General Knowledge",s[s["Entertainment: Books"]=9]="Entertainment: Books",s))(),m=l(2601),f=l(1770);function v(t,o){if(1&t&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n.name),e.xp6(1),e.hij(" ",n.name," ")}}function C(t,o){if(1&t&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n," ")}}function w(t,o){if(1&t&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n," ")}}function B(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(n);const u=e.oxw().$implicit,a=e.oxw();return e.KtG(a.SelectAnswer(u))}),e.qZA()}if(2&t){const n=e.oxw().$implicit,i=e.oxw();e.ekj("is-info",i.formQuestion.value.answerSelected===n),e.Q6J("innerHTML",n,e.oJD)}}function x(t,o){if(1&t&&e._UZ(0,"button",23),2&t){const n=e.oxw().$implicit,i=e.oxw();e.ekj("is-success",i.question.correct_answer===n||n===i.formQuestion.value.answerSelected)("is-danger",n===i.formQuestion.value.answerSelected&&i.question.correct_answer!==n),e.Q6J("innerHTML",n,e.oJD)("disabled",!0)}}function b(t,o){if(1&t&&(e.ynx(0),e.YNc(1,B,1,3,"button",20),e.ALo(2,"async"),e.YNc(3,x,1,6,"button",21),e.ALo(4,"async"),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,n.quizNotSubmitted$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,n.quizSubmitted$))}}function Z(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",24)(1,"button",25),e.NdJ("click",function(){e.CHM(n);const u=e.oxw();return e.KtG(u.Save())}),e._uU(2,"Save"),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("disabled",n.formQuestion.invalid)}}let T=(()=>{class t{constructor(n){this.store=n,this.changeQuestion=new e.vpe,this.formQuestion=new c.cw({category:new c.NI(s["General Knowledge"],[c.kI.required]),type:new c.NI(f.y.multiple,[c.kI.required]),difficulty:new c.NI(m.a.easy,[c.kI.required]),question:new c.NI("",[c.kI.required]),answerSelected:new c.NI("",[c.kI.required])}),this.categories$=this.store.select(_.lT),this.quizNotSubmitted$=this.store.select(Q),this.quizSubmitted$=this.store.select(h),this.answers=[],this.categories=[],this.difficultList=[],this.types=[]}ngOnInit(){const n=Object.keys(s),i=Object.keys(m.a),u=Object.keys(f.y);this.categories=n.slice(n.length/2),this.difficultList=i.slice(i.length/2),this.types=u.slice(u.length/2),this.answers=[...this.question.incorrect_answers];const a=Math.floor(Math.random()*(this.answers.length+1));this.answers.splice(a,0,this.question.correct_answer),this.LoadPage()}LoadPage(){this.formQuestion.controls.category.setValue(this.question.category),this.formQuestion.controls.type.setValue(this.question.type),this.formQuestion.controls.difficulty.setValue(this.question.difficulty),this.formQuestion.controls.question.setValue(this.question.question),this.formQuestion.controls.answerSelected.setValue(this.answerQuestion),this.formQuestion.controls.category.disable(),this.formQuestion.controls.type.disable(),this.formQuestion.controls.difficulty.disable(),this.formQuestion.controls.question.disable()}SelectAnswer(n){this.formQuestion.controls.answerSelected.setValue(n)}Save(){this.changeQuestion.emit(this.formQuestion.value.answerSelected)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-question-form"]],inputs:{question:"question",answerQuestion:"answerQuestion"},outputs:{changeQuestion:"changeQuestion"},standalone:!0,features:[e.jDz],decls:32,vars:11,consts:[[1,"root-question-form"],[3,"formGroup"],[1,"is-flex"],[1,"block-question"],["for","category",1,"ml-2"],[1,"select","is-rounded"],["formControlName","category","name","catogory",1,"control-select"],[3,"value",4,"ngFor","ngForOf"],[1,"block-question","is-flex"],["for","difficult",1,"ml-2"],["formControlName","difficulty","name","difficult",1,"control-select"],["for","typeQuiz",1,"ml-2"],["formControlName","type","name","typeQuiz",1,"control-select"],[1,"mt-1"],["for","question"],[3,"innerHTML"],[1,"mt-1","is-flex","is-justify-content-space-around"],[4,"ngFor","ngForOf"],["class","mt-1 has-text-centered",4,"ngIf"],[3,"value"],["class","button",3,"is-info","innerHTML","click",4,"ngIf"],["class","button",3,"is-success","is-danger","innerHTML","disabled",4,"ngIf"],[1,"button",3,"innerHTML","click"],[1,"button",3,"innerHTML","disabled"],[1,"mt-1","has-text-centered"],[1,"button","is-primary",3,"disabled","click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5,"Category"),e.qZA(),e.TgZ(6,"div",5)(7,"select",6),e.YNc(8,v,2,2,"option",7),e.ALo(9,"async"),e.qZA()()(),e.TgZ(10,"div",8)(11,"div",3)(12,"label",9),e._uU(13,"Difficulty"),e.qZA(),e.TgZ(14,"div",5)(15,"select",10),e.YNc(16,C,2,2,"option",7),e.qZA()()(),e.TgZ(17,"div",3)(18,"label",11),e._uU(19,"Type"),e.qZA(),e.TgZ(20,"div",5)(21,"select",12),e.YNc(22,w,2,2,"option",7),e.qZA()()()()(),e.TgZ(23,"div",13)(24,"label",14),e._uU(25,"Question: "),e.qZA(),e._UZ(26,"div",15),e.qZA(),e.TgZ(27,"div",16),e.YNc(28,b,5,6,"ng-container",17),e.qZA(),e._UZ(29,"hr"),e.YNc(30,Z,3,1,"div",18),e.ALo(31,"async"),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("formGroup",i.formQuestion),e.xp6(7),e.Q6J("ngForOf",e.lcZ(9,7,i.categories$)),e.xp6(8),e.Q6J("ngForOf",i.difficultList),e.xp6(6),e.Q6J("ngForOf",i.types),e.xp6(4),e.Q6J("innerHTML",i.question.question,e.oJD),e.xp6(2),e.Q6J("ngForOf",i.answers),e.xp6(2),e.Q6J("ngIf",e.lcZ(31,9,i.quizNotSubmitted$)))},dependencies:[r.ez,r.sg,r.O5,r.Ov,c.u5,c._Y,c.YN,c.Kr,c.EJ,c.JJ,c.JL,c.UX,c.sg,c.u],styles:[".root-question-form[_ngcontent-%COMP%]   .is-flex[_ngcontent-%COMP%]{gap:.5rem}.root-question-form[_ngcontent-%COMP%]   .block-question[_ngcontent-%COMP%]{flex:1}.root-question-form[_ngcontent-%COMP%]   .block-question[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%], .root-question-form[_ngcontent-%COMP%]   .block-question[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .control-select[_ngcontent-%COMP%], .root-question-form[_ngcontent-%COMP%]   .question-field[_ngcontent-%COMP%]{width:100%}"]}),t})();function O(t,o){if(1&t&&(e.TgZ(0,"div",1)(1,"div"),e._UZ(2,"span",2),e.qZA(),e.TgZ(3,"div",3)(4,"small",4)(5,"span"),e._uU(6,"Type: "),e.TgZ(7,"span",5),e._uU(8),e.qZA()()(),e.TgZ(9,"small",4)(10,"span"),e._uU(11,"Category: "),e.TgZ(12,"span",5),e._uU(13),e.qZA()()(),e.TgZ(14,"small",4)(15,"span"),e._uU(16,"Difficulty: "),e.TgZ(17,"span",5),e._uU(18),e.qZA()()()()()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("innerHTML",n.questionBlock.question.question,e.oJD),e.xp6(6),e.Oqu(n.questionBlock.question.type),e.xp6(5),e.Oqu(n.questionBlock.question.category),e.xp6(5),e.Oqu(n.questionBlock.question.difficulty)}}let S=(()=>{class t{constructor(){this.typeQuiz=f.y,this.category=s,this.difficulty=m.a}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-question-view"]],inputs:{questionBlock:"questionBlock"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["class","root-question-view",4,"ngIf"],[1,"root-question-view"],[3,"innerHTML"],[1,"is-flex"],[1,"mr-3"],[1,"text-question"]],template:function(n,i){1&n&&e.YNc(0,O,19,4,"div",0),2&n&&e.Q6J("ngIf",!i.questionBlock.isDirty)},dependencies:[r.ez,r.O5],styles:[".root-question-view[_ngcontent-%COMP%]   .text-question[_ngcontent-%COMP%]{font-weight:400}"]}),t})();var d=l(497);let k=(()=>{class t{constructor(n){this.store=n}updateQuiz(n){this.store.dispatch(d.gY({quiz:n}))}updateQuestion(n,i,u){this.store.dispatch(d.hi({question:n,index:i,answer:u}))}submitGame(){this.store.dispatch(d.HV())}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(p.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function N(t,o){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-question-view",6),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("questionBlock",n.questionBlock)}}function A(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",7)(1,"app-question-form",8),e.NdJ("changeQuestion",function(u){e.CHM(n);const a=e.oxw();return e.KtG(a.ChangeQuestion(u))}),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("question",n.questionBlock.question)("answerQuestion",n.questionBlock.answer)}}let J=(()=>{class t{constructor(n){this.quizBlockService=n,this.isOpen=!0}OpenClose(){this.isOpen=!this.isOpen}ChangeQuestion(n){this.quizBlockService.updateQuestion(this.questionBlock.question,this.questionNumber,n),this.isOpen=!1}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(k))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-question"]],inputs:{questionBlock:"questionBlock",questionNumber:"questionNumber"},standalone:!0,features:[e.jDz],decls:8,vars:7,consts:[[1,"panel","root-question"],[1,"panel-heading"],[4,"ngIf"],[1,"button","is-info",3,"click"],[1,"panel","panel-block"],["class","question-form",4,"ngIf"],[3,"questionBlock"],[1,"question-form"],[3,"question","answerQuestion","changeQuestion"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div"),e.YNc(3,N,2,1,"div",2),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return i.OpenClose()}),e._uU(5),e.qZA()(),e.TgZ(6,"div",4),e.YNc(7,A,2,2,"div",5),e.qZA()()),2&n&&(e.xp6(1),e.ekj("has-background-danger",i.questionBlock.isDirty)("has-text-white",i.questionBlock.isDirty),e.xp6(2),e.Q6J("ngIf",!i.isOpen),e.xp6(2),e.Oqu(i.isOpen?"Close":"Open"),e.xp6(2),e.Q6J("ngIf",i.isOpen))},dependencies:[r.ez,r.O5,T,S],styles:[".root-question[_ngcontent-%COMP%]   .panel-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.root-question[_ngcontent-%COMP%]   .question-form[_ngcontent-%COMP%]{width:100%}"]}),t})();var M=l(8361);function I(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"button",5),e.NdJ("click",function(){e.CHM(n);const u=e.oxw();return e.KtG(u.SaveQuiz())}),e.ALo(2,"async"),e._uU(3,"Save Quiz"),e.qZA(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("disabled",e.lcZ(2,1,n.quizBlockIncomplete$))}}function P(t,o){if(1&t&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&t){const n=e.oxw().ngIf;e.ekj("has-background-danger",n>0&&n<3)("has-background-warning",n>2&&n<5)("has-background-success",n>4),e.xp6(1),e.hij(" You Scored ",n-1," out of 5 ")}}function F(t,o){if(1&t&&(e.ynx(0),e.YNc(1,P,2,7,"div",6),e.BQk()),2&t){const n=o.ngIf;e.xp6(1),e.Q6J("ngIf",n>0)}}function L(t,o){if(1&t&&(e.TgZ(0,"div",9),e._UZ(1,"app-question",10)(2,"app-question",10)(3,"app-question",10)(4,"app-question",10)(5,"app-question",10),e.qZA()),2&t){const n=e.oxw().ngIf;e.xp6(1),e.Q6J("questionBlock",n.quizBlock.question1)("questionNumber",1),e.xp6(1),e.Q6J("questionBlock",n.quizBlock.question2)("questionNumber",2),e.xp6(1),e.Q6J("questionBlock",n.quizBlock.question3)("questionNumber",3),e.xp6(1),e.Q6J("questionBlock",n.quizBlock.question4)("questionNumber",4),e.xp6(1),e.Q6J("questionBlock",n.quizBlock.question5)("questionNumber",5)}}function Y(t,o){if(1&t&&(e.ynx(0),e.YNc(1,L,6,10,"div",8),e.BQk()),2&t){const n=o.ngIf;e.xp6(1),e.Q6J("ngIf",n.quizBlock)}}let U=(()=>{class t{constructor(n,i,u,a){this.route=n,this.store=i,this.quizBlockService=u,this.location=a,this.id=0,this.quizBlock$=this.store.select(q),this.quizNotSubmitted$=this.store.select(Q),this.quizSubmitted$=this.store.select(h),this.quizCorrectAnwser$=this.store.select(y),this.quizBlockIncomplete$=this.store.select(z)}ngOnInit(){this.route.params.subscribe({next:n=>{const i=parseInt(n.id);this.id=i,this.LoadPage()}})}LoadPage(){this.quiz$=this.store.select(_.wI(this.id)),this.quizSubscription=this.quiz$.subscribe({next:n=>{n&&this.quizBlockService.updateQuiz(n)}})}GoBack(){this.location.back()}SaveQuiz(){this.quizBlockService.submitGame()}ngOnDestroy(){this.quizSubscription.unsubscribe(),this.quizBlockService.updateQuiz(void 0)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(M.gz),e.Y36(p.yh),e.Y36(k),e.Y36(r.Ye))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-quiz-selected"]],standalone:!0,features:[e.jDz],decls:12,vars:9,consts:[[1,"root-quiz-selected"],[1,"title"],[1,"actions"],[1,"button",3,"click"],[4,"ngIf"],[1,"button","is-primary",3,"disabled","click"],["class","scored-point",3,"has-background-danger","has-background-warning","has-background-success",4,"ngIf"],[1,"scored-point"],["class","questions",4,"ngIf"],[1,"questions"],[3,"questionBlock","questionNumber"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Questions"),e.qZA(),e.TgZ(3,"div",2)(4,"button",3),e.NdJ("click",function(){return i.GoBack()}),e._uU(5,"Back"),e.qZA(),e.YNc(6,I,4,3,"ng-container",4),e.ALo(7,"async"),e.qZA(),e.YNc(8,F,2,1,"ng-container",4),e.ALo(9,"async"),e.YNc(10,Y,2,1,"ng-container",4),e.ALo(11,"async"),e.qZA()),2&n&&(e.xp6(6),e.Q6J("ngIf",e.lcZ(7,3,i.quizNotSubmitted$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,5,i.quizCorrectAnwser$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,7,i.quizBlock$)))},dependencies:[r.ez,r.O5,r.Ov,J],styles:[".root-quiz-selected[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem 0}.root-quiz-selected[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:75%;display:flex;justify-content:space-between;margin-bottom:1rem}.root-quiz-selected[_ngcontent-%COMP%]   .questions[_ngcontent-%COMP%]{width:75%}.root-quiz-selected[_ngcontent-%COMP%]   .scored-point[_ngcontent-%COMP%]{width:60%;text-align:center}"]}),t})()}}]);